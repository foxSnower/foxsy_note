{"version":3,"sources":["webpack:///src/components/theme-picker.vue","webpack:///./src/components/theme-picker.vue?914f","webpack:///./src/components/theme-picker.vue","webpack:///src/views/Main.vue","webpack:///./src/views/Main.vue?1c70","webpack:///./src/views/Main.vue"],"names":["theme_picker","data","chalk","docs","theme","watch","val","oldVal","_this","this","themeCluster","getThemeCluster","replace","originalCluster","getHandler","variable","id","newStyle","updateStyle","styleTag","document","getElementById","createElement","setAttribute","head","appendChild","innerText","chalkHandler","docsHandler","getCSSString","links","filter","call","querySelectorAll","link","test","href","slice","style","text","RegExp","forEach","methods","oldCluster","newCluster","color","index","url","callback","_this2","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","tint","red","green","blue","clusters","i","push","Number","toFixed","parseInt","join","Math","round","toString","shade","shadeColor","components_theme_picker","render","_vm","_h","$createElement","_self","_c","staticClass","attrs","popper-class","model","value","$$v","expression","staticRenderFns","Main","name","components","ThemePicker","__webpack_require__","normalizeComponent","ssrContext","views_Main","_v","type","icon","title","Main_Component","Main_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/1.0cd9957a9f905c9866a5.js","sourcesContent":["<template>\r\n  <el-color-picker\r\n    class=\"theme-picker\"\r\n    popper-class=\"theme-picker-dropdown\"\r\n    v-model=\"theme\"></el-color-picker>\r\n</template>\r\n\r\n<style>\r\n  .theme-picker {\r\n    height: 80px;\r\n    display: inline-block;\r\n    @utils-vertical-center;\r\n  }\r\n\r\n  .theme-picker .el-color-picker__trigger {\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  .theme-picker-dropdown .el-color-dropdown__link-btn {\r\n    display: none;\r\n  }\r\n</style>\r\n\r\n<script>\r\n  // import { version } from 'main/index.js';\r\n\r\n  const ORIGINAL_THEME = '#409EFF';\r\n  export default {\r\n    data() {\r\n      return {\r\n        chalk: '', // content of theme-chalk css\r\n        docs: '', // content of docs css\r\n        theme: ORIGINAL_THEME\r\n      };\r\n    },\r\n\r\n    watch: {\r\n      theme(val, oldVal) {\r\n        if (typeof val !== 'string') return;\r\n        const themeCluster = this.getThemeCluster(val.replace('#', ''));\r\n        const originalCluster = this.getThemeCluster(oldVal.replace('#', ''));\r\n        const getHandler = (variable, id) => {\r\n          return () => {\r\n            const originalCluster = this.getThemeCluster(ORIGINAL_THEME.replace('#', ''));\r\n            let newStyle = this.updateStyle(this[variable], originalCluster, themeCluster);\r\n\r\n            let styleTag = document.getElementById(id);\r\n            if (!styleTag) {\r\n              styleTag = document.createElement('style');\r\n              styleTag.setAttribute('id', id);\r\n              document.head.appendChild(styleTag);\r\n            }\r\n            styleTag.innerText = newStyle;\r\n          };\r\n        };\r\n\r\n        const chalkHandler = getHandler('chalk', 'chalk-style');\r\n        const docsHandler = getHandler('docs', 'docs-style');\r\n        if (!this.chalk) {\r\n          const url = ``;\r\n          this.getCSSString(url, chalkHandler, 'chalk');\r\n        } else {\r\n          chalkHandler();\r\n        }\r\n\r\n        if (!this.docs) {\r\n          const links = [].filter.call(document.querySelectorAll('link'), link => {\r\n            return /docs\\..+\\.css/.test(link.href || '');\r\n          });\r\n          links[0] && this.getCSSString(links[0].href, docsHandler, 'docs');\r\n        } else {\r\n          docsHandler();\r\n        }\r\n\r\n        const styles = [].slice.call(document.querySelectorAll('style'))\r\n          .filter(style => {\r\n            const text = style.innerText;\r\n            return new RegExp(oldVal, 'i').test(text) && !/Chalk Variables/.test(text);\r\n          });\r\n        styles.forEach(style => {\r\n          const { innerText } = style;\r\n          if (typeof innerText !== 'string') return;\r\n          style.innerText = this.updateStyle(innerText, originalCluster, themeCluster);\r\n        });\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      updateStyle(style, oldCluster, newCluster) {\r\n        let newStyle = style;\r\n        oldCluster.forEach((color, index) => {\r\n          newStyle = newStyle.replace(new RegExp(color, 'ig'), newCluster[index]);\r\n        });\r\n        return newStyle;\r\n      },\r\n\r\n      getCSSString(url, callback, variable) {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => {\r\n          if (xhr.readyState === 4 && xhr.status === 200) {\r\n            this[variable] = xhr.responseText.replace(/@font-face{[^}]+}/, '');\r\n            callback();\r\n          }\r\n        };\r\n        xhr.open('GET', url);\r\n        xhr.send();\r\n      },\r\n\r\n      getThemeCluster(theme) {\r\n        const tintColor = (color, tint) => {\r\n          let red = parseInt(color.slice(0, 2), 16);\r\n          let green = parseInt(color.slice(2, 4), 16);\r\n          let blue = parseInt(color.slice(4, 6), 16);\r\n\r\n          if (tint === 0) { // when primary color is in its rgb space\r\n            return [red, green, blue].join(',');\r\n          } else {\r\n            red += Math.round(tint * (255 - red));\r\n            green += Math.round(tint * (255 - green));\r\n            blue += Math.round(tint * (255 - blue));\r\n\r\n            red = red.toString(16);\r\n            green = green.toString(16);\r\n            blue = blue.toString(16);\r\n\r\n            return `#${ red }${ green }${ blue }`;\r\n          }\r\n        };\r\n\r\n        const shadeColor = (color, shade) => {\r\n          let red = parseInt(color.slice(0, 2), 16);\r\n          let green = parseInt(color.slice(2, 4), 16);\r\n          let blue = parseInt(color.slice(4, 6), 16);\r\n\r\n          red = Math.round((1 - shade) * red);\r\n          green = Math.round((1 - shade) * green);\r\n          blue = Math.round((1 - shade) * blue);\r\n\r\n          red = red.toString(16);\r\n          green = green.toString(16);\r\n          blue = blue.toString(16);\r\n\r\n          return `#${ red }${ green }${ blue }`;\r\n        };\r\n\r\n        const clusters = [theme];\r\n        for (let i = 0; i <= 9; i++) {\r\n          clusters.push(tintColor(theme, Number((i / 10).toFixed(2))));\r\n        }\r\n        clusters.push(shadeColor(theme, 0.1));\r\n        return clusters;\r\n      }\r\n    }\r\n  };\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/theme-picker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-color-picker',{staticClass:\"theme-picker\",attrs:{\"popper-class\":\"theme-picker-dropdown\"},model:{value:(_vm.theme),callback:function ($$v) {_vm.theme=$$v},expression:\"theme\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a871510\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/theme-picker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a871510\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./theme-picker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./theme-picker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./theme-picker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a871510\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./theme-picker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/theme-picker.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <el-container>\r\n      <el-header>\r\n        <ThemePicker></ThemePicker>\r\n      </el-header>\r\n      <el-button type=\"text\" icon=\"iconfont icon-sjiantou04-copy-copy\" class=\"copy-btn\"  title=\"点击\"></el-button>\r\n      <router-view />\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ThemePicker from '@components/theme-picker';\r\nexport default {\r\n  name: 'Main',\r\n  components: {\r\n    ThemePicker\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-header {\r\n  background-color: #81b0f1;\r\n  color: #333;\r\n  text-align: right;\r\n  line-height: 60px;\r\n  .hang-tag{\r\n        position: absolute;\r\n    top: 60px;\r\n    right: 0;\r\n    z-index: 9;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Main.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-header',[_c('ThemePicker')],1),_vm._v(\" \"),_c('el-button',{staticClass:\"copy-btn\",attrs:{\"type\":\"text\",\"icon\":\"iconfont icon-sjiantou04-copy-copy\",\"title\":\"点击\"}}),_vm._v(\" \"),_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7cdfa860\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/Main.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cdfa860\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Main.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Main.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Main.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cdfa860\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Main.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7cdfa860\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Main.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}