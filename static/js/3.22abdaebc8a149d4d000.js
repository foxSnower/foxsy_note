webpackJsonp([3],{"3cXf":function(e,t,a){e.exports={default:a("RJ+u"),__esModule:!0}},"G6y+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),n=a.n(i),l=a("aA9S"),f=a.n(l),s={data:function(){return{currentPage:1,pageSize:10,total:0,dialogVisible:!1,dialogTitle:"",dialogDisabled:!1,effectList:[],effectAllList:[],animateJson:{},params:{effect_id:null,effect_name:null,effect_type_id:null,effect_type_code:null,effect_type_name:null}}},watch:{dialogVisible:function(e,t){e&&this.getAnimate()}},components:{HInput:function(){return a.e(8).then(a.bind(null,"hab6"))},HSelect:function(){return a.e(7).then(a.bind(null,"JCYg"))},HPage:function(){return a.e(6).then(a.bind(null,"OaUa"))}},mounted:function(){this.getData(),this.getAnimateJson()},methods:{getData:function(){this.getAnimateAll()},getAnimate:function(){var e=this;this.$api.getAnimate({}).then(function(t){e.effectList=t.data})},getAnimateAll:function(){var e=this;this.$api.getAnimateAll({page:this.currentPage,limit:this.pageSize}).then(function(t){e.effectAllList=t.data.data,e.total=t.data.count})},getAnimateJson:function(){var e=this;this.$api.getAnimateJson({}).then(function(t){e.animateJson=t})},editAnimate:function(e,t){this.$api.editAnimate(e).then(function(e){return t(e)})},deleteAnimate:function(e,t){this.$api.deleteAnimate({effect_type_id:e.effect_type_id}).then(function(e){return t(e)})},editEffect:function(e,t){if(this.dialogVisible=!0,"add"===e)for(var a in this.dialogTitle="新增动画",this.dialogDisabled=!1,this.params)this.params[a]=null;"edit"===e&&(this.dialogTitle="编辑动画",this.dialogDisabled=!0,this.params=f()({},t))},deleteEffect:function(e){var t=this;this.$confirm("删除后,将失去此信息,是否继续？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"是",cancelButtonText:"否",callback:function(a){"confirm"===a&&t.deleteAnimate(e,function(e){t.$message.success(e.msg),t.getData()})}})},save:function(){var e=this,t=this.params;"other"==t.effect_id&&(t.effect_id=null),this.editAnimate(t,function(t){e.$message.success(t.msg),e.dialogVisible=!1,e.getData()})}},computed:{filterEffectList:function(){var e=this.effectList;return e.push({effect_id:"other",effect_name:"其他"}),e},filterEffectAllList:function(){var e=this,t=this.effectAllList,a=this.animateJson;return t.forEach(function(t){var i=t.effect_type_code;e.$set(t,"effect_detail",n()(a[i]))}),t}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editEffect("add")}}},[e._v("新增")]),e._v(" "),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:e.filterEffectAllList,size:"small",border:""}},[a("el-table-column",{attrs:{fixed:"left",type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"effect_name",label:"动画名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"effect_type_name",label:"类型名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"effect_type_code",label:"类型编码",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"effect_detail",label:"代码","min-width":"800"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editEffect("edit",t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteEffect(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("HPage",{attrs:{total:e.total,currentPage:e.currentPage,pageSize:e.pageSize},on:{"update:currentPage":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},getData:e.getData}}),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.params,"label-width":"120px",size:"small"}},[a("HSelect",{attrs:{label:"动画名称",name:e.params.effect_name,optionList:e.filterEffectList,props:{label:"effect_name",value:"effect_id"},disabled:e.dialogDisabled},on:{"update:name":function(t){e.$set(e.params,"effect_name",t)}},model:{value:e.params.effect_id,callback:function(t){e.$set(e.params,"effect_id",t)},expression:"params.effect_id"}}),e._v(" "),"other"===e.params.effect_id?a("HInput",{attrs:{label:"新增动画名称"},model:{value:e.params.effect_name,callback:function(t){e.$set(e.params,"effect_name",t)},expression:"params.effect_name"}}):e._e(),e._v(" "),a("HInput",{attrs:{label:"类型名称"},model:{value:e.params.effect_type_name,callback:function(t){e.$set(e.params,"effect_type_name",t)},expression:"params.effect_type_name"}}),e._v(" "),a("HInput",{attrs:{label:"类型编码"},model:{value:e.params.effect_type_code,callback:function(t){e.$set(e.params,"effect_type_code",t)},expression:"params.effect_type_code"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]},o=a("C7Lr")(s,c,!1,null,null,null);t.default=o.exports},"RJ+u":function(e,t,a){var i=a("AKd3"),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}}});
//# sourceMappingURL=3.22abdaebc8a149d4d000.js.map